˜
IC:\Users\HIGH-ONE\centaurspay\SecureApiDemo\Controller\UsersController.cs
	namespace 	
SecureApiDemo
 
. 
Controllers #
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
UsersController  
:! "
ControllerBase# 1
{ 
[		 	
HttpGet			 
(		 
$str		 
)		 
]		 
public

 
IActionResult

 
GetUser

 $
(

$ %
int

% (
id

) +
)

+ ,
{ 	
var 
user 
= 
new 
{ 
Id 
=  !
id" $
,$ %
Name& *
=+ ,
$str- 3
+4 5
id6 8
,8 9
Email: ?
=@ A
$"B D
$strD H
{H I
idI K
}K L
$strL U
"U V
}W X
;X Y
return 
Ok 
( 
user 
) 
; 
} 	
[ 	
HttpPost	 
( 
$str 
) 
] 
public 
IActionResult 
Login "
(" #
[# $
FromBody$ ,
], -

LoginModel. 8
model9 >
)> ?
{ 	
if 
( 
model 
. 
Username 
== !
$str" )
)) *
return 
Ok 
( 
new 
{ 
token  %
=& '
$str( F
}G H
)H I
;I J
return 
Unauthorized 
(  
)  !
;! "
} 	
[ 
HttpGet 
( 	
$str	 
) 
] 
public 
IActionResult 
GetUserByQuery #
(# $
[$ %
	FromQuery% .
]. /
string0 6
id7 9
)9 :
{ 
string 

sqlQuery 
= 
$" 
$str 7
{7 8
id8 :
}: ;
"; <
;< =
var 
result 
= 
new 
{   
ExecutedQuery!! 
=!! 
sqlQuery!!  
,!!  !
Message"" 
="" 
$str"" Q
}## 
;## 
return%% 

Ok%% 
(%% 
result%% 
)%% 
;%% 
}&& 
public'' 
class'' 

LoginModel'' 
{(( 	
public)) 
string)) 
Username)) "
{))# $
get))% (
;))( )
set))* -
;))- .
}))/ 0
public** 
string** 
Password** "
{**# $
get**% (
;**( )
set*** -
;**- .
}**/ 0
}++ 	
},, 
}-- ÿ

6C:\Users\HIGH-ONE\centaurspay\SecureApiDemo\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
app 
. 
MapGet 

(
 
$str 
, 
( 
) 
=> 
$str ,
), -
;- .
app 
. 
MapPost 
( 
$str 
, 
( 
string 
username &
,& '
string( .
password/ 7
)7 8
=>9 ;
{ 
if		 
(		 
username		 
==		 
$str		 
&&		 
password		 '
==		( *
$str		+ 3
)		3 4
return

 
Results

 
.

 
Ok

 
(

 
$str

 &
)

& '
;

' (
return 

Results 
. 
Unauthorized 
(  
)  !
;! "
} 
) 
; 
app 
. 
Run 
( 
) 	
;	 
